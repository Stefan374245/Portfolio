<section class="testimonials-section" role="region" aria-label="Customer testimonials">
  <div class="testimonials-container">

    <div class="quote-mark-left" aria-hidden="true">
      <span class="quote-symbol">&ldquo;</span>
    </div>

    <article class="testimonial-card" 
             [attr.aria-label]="'Testimonial ' + (currentReviewIndex() + 1) + ' of ' + reviews.length"
             role="tabpanel"
             [attr.id]="'testimonial-panel-' + currentReviewIndex()"
             [attr.aria-labelledby]="'testimonial-tab-' + currentReviewIndex()">
      
      <div class="testimonial-content">
        <blockquote class="testimonial-text" cite="">
          {{ currentReview().text }}
        </blockquote>
 
        <footer class="reviewer-section">
          <hr class="divider-line" role="presentation" aria-hidden="true">
          <cite class="reviewer-info">
            <span class="reviewer-name">{{ currentReview().reviewerName }}</span>
            <span class="reviewer-role">{{ currentReview().reviewerTitle }}</span>
          </cite>
        </footer>
      </div>
    </article>

    <aside class="profile-section" aria-label="Reviewer profile">
      <figure class="profile-image-container">
        <img 
          [src]="currentReview().avatarUrl" 
          [alt]="'Profile photo of ' + currentReview().reviewerName + ', ' + currentReview().reviewerTitle"
          class="profile-image"
          loading="lazy"
        />
      </figure>
    </aside>

 <nav class="testimonial-navigation" aria-label="Testimonial navigation" role="navigation">
  <button 
    type="button"
    class="nav-button nav-button--prev" 
    (click)="previousReview()"
    [disabled]="reviews.length <= 1"
    aria-label="Show previous testimonial"
    [attr.aria-describedby]="'current-testimonial-' + currentReviewIndex()"
  >
    <img src="/assets/images/reviews/arrow-left.png" alt="" aria-hidden="true" class="nav-arrow">
    <span class="sr-only">Previous testimonial</span>
  </button>

  <ol class="pagination-indicators" role="tablist" aria-label="Testimonial indicators">
    @for (indicator of indicators(); track indicator.index) {
      <li role="presentation">
        <button
          type="button"
          class="pagination-dot"
          [class.pagination-dot--active]="indicator.active"
          (click)="goToReview(indicator.index)"
          role="tab"
          [attr.aria-selected]="indicator.active"
          [attr.aria-label]="'Show testimonial ' + (indicator.index + 1)"
          [attr.id]="'testimonial-tab-' + indicator.index"
          [attr.aria-controls]="'testimonial-panel-' + indicator.index"
        >
          <span class="sr-only">Testimonial {{ indicator.index + 1 }}</span>
        </button>
      </li>
    }
  </ol>

  <button 
    type="button"
    class="nav-button nav-button--next" 
    (click)="nextReview()"
    [disabled]="reviews.length <= 1"
    aria-label="Show next testimonial"
    [attr.aria-describedby]="'current-testimonial-' + currentReviewIndex()"
  >
    <img src="/assets/images/reviews/arrow-right.png" alt="" aria-hidden="true" class="nav-arrow">
    <span class="sr-only">Next testimonial</span>
  </button>
</nav>
  </div>
</section>