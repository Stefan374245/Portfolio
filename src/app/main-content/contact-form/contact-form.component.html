<section class="contact-section" id="contact">
  <div class="container">
    <header class="section-header">
      <div class="title-container">
        <h1 class="main-title">Contact</h1>
        <div class="title-separator" aria-hidden="true"></div>
      </div>
    </header>

    <div class="contact-content">
      <div class="contact-left">
        <header class="contact-left-header">
          <div class="subtitle-separator" aria-hidden="true"></div>
          <div class="subtitle-container">
            <h2 class="contact-subtitle">Got a problem to solve?</h2>
          </div>
        </header>
        
        <div class="contact-description">
          <p>
            Encourage people to contact you and describe what role you are interested in. 
            Show that you will add value to their projects through your work.
          </p>
          <p class="contact-cta">
            Need a Frontend developer? <strong>Contact me!</strong>
          </p>
        </div>
      </div>


      <div class="contact-right">
        <form class="contact-form" (ngSubmit)="onSubmit(contactForm)" #contactForm="ngForm" novalidate>
          <fieldset class="form-fieldset">
            <legend class="sr-only">Contact Form</legend>
    
            <div class="form-group">
              <label for="name" class="sr-only">Your name</label>
              <input
                #name="ngModel"
                [(ngModel)]="contactData.name"
                type="text"
                id="name"
                name="name"
                class="form-input"
                placeholder="Your name"
                required
                autocomplete="name"
                aria-describedby="name-error"
              />
              <span 
                id="name-error" 
                class="error-message" 
                role="alert" 
                aria-live="polite"
                [class.show]="!name.valid && name.touched && !name.disabled"
              >
                @if (!name.valid && name.touched && !name.disabled) {
                  Please enter a name
                }
              </span>
            </div>

            <div class="form-group">
              <label for="email" class="sr-only">Your email</label>
              <input 
                #email="ngModel"
                [(ngModel)]="contactData.email"
                type="email"
                id="email"
                name="email"
                class="form-input"
                placeholder="Your email"
                required
                autocomplete="email"
                pattern="[a-zA-Z0-9._%+\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,}"
                aria-describedby="email-error"
              />
              <span 
                id="email-error" 
                class="error-message" 
                role="alert" 
                aria-live="polite"
                [class.show]="!email.valid && email.touched && !email.disabled"
              >
                @if (!email.valid && email.touched && !email.disabled) {
                  Please enter a valid email
                }
              </span>
            </div>

            <div class="form-group">
              <label for="message" class="sr-only">Your message</label>
              <textarea
                #message="ngModel"
                [(ngModel)]="contactData.message"
                id="message"
                name="message"
                class="form-textarea"
                placeholder="Your message"
                required
                minlength="4"
                rows="6"
                aria-describedby="message-error"
              ></textarea>
              <span 
                id="message-error" 
                class="error-message" 
                role="alert" 
                aria-live="polite"
                [class.show]="!message.valid && message.touched && !message.disabled"
              >
                @if (!message.valid && message.touched && !message.disabled) {
                  Please enter a message
                }
              </span>
            </div>

            <div class="form-group checkbox-group">
              <label class="checkbox-label">
                <input 
                  type="checkbox" 
                  class="checkbox-input" 
                  required 
                  aria-describedby="privacy-text"
                />
                <span class="checkbox-custom" aria-hidden="true"></span>
                <span id="privacy-text" class="checkbox-text">
                  I've read the <a href="#privacy" class="privacy-link">privacy policy</a> 
                  and agree to the processing of my data as outlined.
                </span>
              </label>
            </div>

            <div class="form-actions">
              <button 
                type="submit" 
                class="submit-button"
                [disabled]="!contactForm.valid"
              >
                <span class="button-text">Send message :)</span>
              </button>
            </div>
          </fieldset>
        </form>
      </div>
    </div>
  </div>
</section>